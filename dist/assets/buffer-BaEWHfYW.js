const s="https://api.bufferapp.com/1",r="your-buffer-access-token",n={async getProfiles(){const e=await fetch(`${s}/profiles.json?access_token=${r}`);if(!e.ok)throw new Error(`Buffer API error: ${e.statusText}`);return await e.json()},async createPost(e){const t=await fetch(`${s}/updates/create.json?access_token=${r}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({text:e.text,profile_ids:JSON.stringify(e.profile_ids),...e.media&&{media:JSON.stringify(e.media)},...e.scheduled_at&&{scheduled_at:e.scheduled_at.toString()},...e.now&&{now:"true"}})});if(!t.ok)throw new Error(`Buffer API error: ${t.statusText}`);return(await t.json()).updates[0]},async getPendingPosts(){const e=await fetch(`${s}/updates/pending.json?access_token=${r}`);if(!e.ok)throw new Error(`Buffer API error: ${e.statusText}`);return(await e.json()).updates||[]},async deletePost(e){const t=await fetch(`${s}/updates/${e}/destroy.json?access_token=${r}`,{method:"POST"});if(!t.ok)throw new Error(`Buffer API error: ${t.statusText}`)},async shufflePosts(){const e=await fetch(`${s}/updates/shuffle.json?access_token=${r}`,{method:"POST"});if(!e.ok)throw new Error(`Buffer API error: ${e.statusText}`)}};export{n as bufferAPI};
